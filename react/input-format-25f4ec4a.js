import{r as g,a as A}from"./react-e483b31d.js";import{P as l}from"./prop-types-20aec754.js";function I(e,t,r){switch(r){case"Backspace":t>0&&(e=e.slice(0,t-1)+e.slice(t),t--);break;case"Delete":e=e.slice(0,t)+e.slice(t+1);break}return{value:e,caret:t}}function k(e,t,r){for(var n="",a=0,u=0;u<e.length;){var i=r(e[u],n);i!==void 0&&(n+=i,t!==void 0&&(t===u?a=n.length-1:t>u&&(a=n.length))),u++}t===void 0&&(a=n.length);var o={value:n,caret:a};return o}function x(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=R(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R(e,t){if(e){if(typeof e=="string")return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}}function b(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t){for(var r=0,n=x(t.split("")),a;!(a=n()).done;){var u=a.value;u===e&&r++}return r}function D(e,t){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"x",n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",a=e.length,u=p("(",e),i=p(")",e),o=u-i;o>0&&a<t.length;)e+=t[a].replace(r,n),t[a]===")"&&o--,a++;return e}function j(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=E(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E(e,t){if(e){if(typeof e=="string")return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}}function m(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function P(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",r=arguments.length>2?arguments[2]:void 0;if(!e)return function(a){return{text:a}};var n=p(t,e);return function(a){if(!a)return{text:"",template:e};for(var u=0,i="",o=j(e.split("")),c;!(c=o()).done;){var f=c.value;if(f!==t){i+=f;continue}if(i+=a[u],u++,u===a.length&&a.length<n)break}return r&&(i=D(i,e)),{text:i,template:e}}}function T(e,t,r){typeof r=="string"&&(r=P(r));var n=r(e)||{},a=n.text,u=n.template;if(a===void 0&&(a=e),u)if(t===void 0)t=a.length;else{for(var i=0,o=!1,c=-1;i<a.length&&i<u.length;){if(a[i]!==u[i]){if(t===0){o=!0,t=i;break}c=i,t--}i++}o||(t=c+1)}return{text:a,caret:t}}function _(e){return e.hasAttribute("readonly")}function K(e){if(e.selectionStart!==e.selectionEnd)return{start:e.selectionStart,end:e.selectionEnd}}var w={Backspace:8,Delete:46};function $(e){switch(e.keyCode){case w.Backspace:return"Backspace";case w.Delete:return"Delete"}}function B(e){return e.selectionStart}function C(e,t){t!==void 0&&(q()?setTimeout(function(){return e.setSelectionRange(t,t)},0):e.setSelectionRange(t,t))}function q(){if(typeof navigator<"u")return L.test(navigator.userAgent)}var L=/Android/i;function U(e,t,r,n,a){y(t,r,n,void 0,a)}function F(e,t,r,n,a){if(!_(t)){var u=$(e);switch(u){case"Delete":case"Backspace":e.preventDefault();var i=K(t);return i?(G(t,i),y(t,r,n,void 0,a)):y(t,r,n,u,a)}}}function G(e,t){var r=e.value;r=r.slice(0,t.start)+r.slice(t.end),e.value=r,C(e,t.start)}function y(e,t,r,n,a){var u=k(e.value,B(e),t),i=u.value,o=u.caret;if(n){var c=I(i,o,n);i=c.value,o=c.caret}var f=T(i,o,r),d=f.text;o=f.caret,e.value=d,C(e,o),a(i)}var H=["value","parse","format","inputComponent","onChange","onKeyDown"];function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h.apply(this,arguments)}function M(e,t){if(e==null)return{};var r=N(e,t),n,a;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(a=0;a<u.length;a++)n=u[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function N(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,u;for(u=0;u<n.length;u++)a=n[u],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function v(e,t){var r=e.value,n=e.parse,a=e.format,u=e.inputComponent,i=e.onChange,o=e.onKeyDown,c=M(e,H),f=g.useRef(),d=g.useCallback(function(s){f.current=s,t&&(typeof t=="function"?t(s):t.current=s)},[t]),O=g.useCallback(function(s){return U(s,f.current,n,a,i)},[f,n,a,i]),S=g.useCallback(function(s){return o&&o(s),F(s,f.current,n,a,i)},[f,n,a,i,o]);return A.createElement(u,h({},c,{ref:d,value:a(W(r)?"":r).text,onKeyDown:S,onChange:O}))}v=A.forwardRef(v);v.propTypes={parse:l.func.isRequired,format:l.func.isRequired,inputComponent:l.elementType.isRequired,type:l.string.isRequired,value:l.string,onChange:l.func.isRequired,onKeyDown:l.func,onCut:l.func,onPaste:l.func};v.defaultProps={inputComponent:"input",type:"text"};const J=v;function W(e){return e==null}export{J as I};
